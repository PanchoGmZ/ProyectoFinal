import"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js";const c=document.querySelector("[data-toggle-nav]"),l=document.querySelector("[data-navbar]"),d=document.querySelector("[data-nav-overlay]");c&&(c.addEventListener("click",a=>{a.preventDefault(),c.getAttribute("data-open-nav")==="false"?(c.setAttribute("data-open-nav","true"),d.setAttribute("data-is-visible","true"),document.body.classList.add("!overflow-y-hidden"),l.style.height=`${l.scrollHeight}px`):(c.setAttribute("data-open-nav","false"),d.setAttribute("data-is-visible","false"),document.body.classList.remove("!overflow-y-hidden"),l.style.height="0px")}),l.addEventListener("click",()=>{c.setAttribute("data-open-nav","false"),d.setAttribute("data-is-visible","false"),document.body.classList.remove("!overflow-y-hidden"),l.style.height="0px"}),d.addEventListener("click",()=>{c.setAttribute("data-open-nav","false"),d.setAttribute("data-is-visible","false"),document.body.classList.remove("!overflow-y-hidden"),l.style.height="0px"}));h();const m=document.querySelector("[data-switch-theme]");m.addEventListener("click",a=>{a.preventDefault(),b()});function b(){const a=localStorage.getItem("theme");a==="light"&&y(),a==="dark"&&g(),a||(console.log("previously it was not set"),h(!0))}function h(a=!1){localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),a&&localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),a&&localStorage.setItem("theme","light"))}function y(){localStorage.setItem("theme","dark"),document.documentElement.classList.add("dark")}function g(){localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark")}class o extends HTMLElement{static#t=new Map;#e;#a="starlight-synced-tabs__";constructor(){super();const e=this.querySelector('[role="tablist"]');if(this.tabs=[...e.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll(':scope > [role="tabpanel"]')],this.#e=this.dataset.syncKey,this.#e){const n=o.#t.get(this.#e)??[];n.push(this),o.#t.set(this.#e,n)}this.tabs.forEach((n,r)=>{n.addEventListener("click",t=>{t.preventDefault();const i=e.querySelector('[aria-selected="true"]');t.currentTarget!==i&&this.switchTab(t.currentTarget,r)}),n.addEventListener("keydown",t=>{const i=this.tabs.indexOf(t.currentTarget),s=t.key==="ArrowLeft"?i-1:t.key==="ArrowRight"?i+1:t.key==="Home"?0:t.key==="End"?this.tabs.length-1:null;s!==null&&this.tabs[s]&&(t.preventDefault(),this.switchTab(this.tabs[s],s))})})}switchTab(e,n,r=!0){if(!e)return;const t=r?this.getBoundingClientRect().top:0;this.tabs.forEach(s=>{s.setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1")}),this.panels.forEach(s=>{s.hidden=!0});const i=this.panels[n];i&&(i.hidden=!1),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true"),r&&(e.focus(),o.#n(this,e),window.scrollTo({top:window.scrollY+(this.getBoundingClientRect().top-t)}))}#i(e){!this.#e||typeof localStorage>"u"||localStorage.setItem(this.#a+this.#e,e)}static#n(e,n){const r=e.#e,t=o.#s(n);if(!r||!t)return;const i=o.#t.get(r);if(i){for(const s of i){if(s===e)continue;const u=s.tabs.findIndex(f=>o.#s(f)===t);u!==-1&&s.switchTab(s.tabs[u],u,!1)}e.#i(t)}}static#s(e){return e.textContent?.trim()}}customElements.define("starlight-tabs",o);
